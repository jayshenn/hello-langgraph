# å¤šAgentç³»ç»Ÿé¡¹ç›®æ¡ˆä¾‹

> ğŸ¯ **é¡¹ç›®ç›®æ ‡**ï¼šæ„å»ºåä½œçš„å¤šAgentç³»ç»Ÿï¼Œå±•ç¤ºAgenté—´çš„é€šä¿¡ã€ä»»åŠ¡åˆ†é…å’ŒååŒå·¥ä½œ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨LangGraphæ„å»ºå¤æ‚çš„å¤šAgentç³»ç»Ÿã€‚åŒ…å«ä¸¤ç§ç»å…¸æ¶æ„æ¨¡å¼ï¼šç›‘ç£è€…æ¨¡å¼ï¼ˆSupervisorï¼‰å’Œç¾¤ä½“æ™ºèƒ½æ¨¡å¼ï¼ˆSwarmï¼‰ï¼Œä»¥åŠä¸‰ä¸ªä¸“ä¸šåŒ–çš„Agentï¼šç ”ç©¶å‘˜ã€ç¼–ç¨‹åŠ©æ‰‹å’Œä»£ç å®¡æŸ¥å‘˜ã€‚

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
03-å¤šAgentç³»ç»Ÿ/
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ supervisor.py               # ç›‘ç£è€…æ¨¡å¼å®ç°
â”œâ”€â”€ swarm.py                    # ç¾¤ä½“æ™ºèƒ½æ¨¡å¼å®ç°
â”œâ”€â”€ requirements.txt            # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ __init__.py            # AgentåŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ base_agent.py          # AgentåŸºç±»
â”‚   â”œâ”€â”€ researcher.py          # ç ”ç©¶å‘˜Agent
â”‚   â”œâ”€â”€ coder.py               # ç¼–ç¨‹åŠ©æ‰‹Agent
â”‚   â”œâ”€â”€ reviewer.py            # ä»£ç å®¡æŸ¥å‘˜Agent
â”‚   â””â”€â”€ coordinator.py         # åè°ƒå™¨Agent
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ agent_config.py        # Agenté…ç½®
â”‚   â”œâ”€â”€ prompts.py             # æç¤ºè¯æ¨¡æ¿
â”‚   â””â”€â”€ communication.py      # é€šä¿¡åè®®
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ message_types.py       # æ¶ˆæ¯ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ task_queue.py          # ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†
â”‚   â””â”€â”€ metrics.py            # æ€§èƒ½æŒ‡æ ‡
â””â”€â”€ examples/
    â”œâ”€â”€ research_task.py       # ç ”ç©¶ä»»åŠ¡ç¤ºä¾‹
    â”œâ”€â”€ coding_task.py         # ç¼–ç¨‹ä»»åŠ¡ç¤ºä¾‹
    â””â”€â”€ review_workflow.py     # å®¡æŸ¥æµç¨‹ç¤ºä¾‹
```

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œä½ å°†å­¦ä¼šï¼š

1. **å¤šAgentæ¶æ„è®¾è®¡**ï¼šç†è§£ä¸åŒçš„åä½œæ¨¡å¼
2. **Agenté—´é€šä¿¡**ï¼šæ¶ˆæ¯ä¼ é€’å’ŒçŠ¶æ€åŒæ­¥
3. **ä»»åŠ¡åˆ†è§£ä¸åˆ†é…**ï¼šå¤æ‚ä»»åŠ¡çš„åˆ†è§£ç­–ç•¥
4. **åä½œæµç¨‹è®¾è®¡**ï¼šå·¥ä½œæµç¨‹çš„ç¼–æ’
5. **é”™è¯¯å¤„ç†ä¸æ¢å¤**ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿçš„å®¹é”™æœºåˆ¶
6. **æ€§èƒ½ç›‘æ§**ï¼šå¤šAgentç³»ç»Ÿçš„æ€§èƒ½ä¼˜åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

- âœ… å®Œæˆ `01-èŠå¤©æœºå™¨äºº/` å­¦ä¹ 
- âœ… ç†è§£Agentçš„åŸºæœ¬æ¦‚å¿µ
- âœ… ç†Ÿæ‚‰å¼‚æ­¥ç¼–ç¨‹

### å®‰è£…ä¾èµ–

```bash
cd Foundations/08-é¡¹ç›®æ¡ˆä¾‹/03-å¤šAgentç³»ç»Ÿ/
pip install -r requirements.txt
```

### è¿è¡Œç›‘ç£è€…æ¨¡å¼

```bash
# è®¾ç½®APIå¯†é’¥
export OPENAI_API_KEY="your-api-key"

# è¿è¡Œç›‘ç£è€…æ¨¡å¼
python supervisor.py
```

### è¿è¡Œç¾¤ä½“æ™ºèƒ½æ¨¡å¼

```bash
python swarm.py
```

## ğŸ“Š ç³»ç»Ÿæ¶æ„

### 1. ç›‘ç£è€…æ¨¡å¼ (Supervisor Pattern)

```mermaid
graph TD
    A[ç”¨æˆ·ä»»åŠ¡] --> B[ç›‘ç£è€…Agent]
    B --> C{ä»»åŠ¡åˆ†æ}
    C --> D[ç ”ç©¶å‘˜Agent]
    C --> E[ç¼–ç¨‹Agent]
    C --> F[å®¡æŸ¥å‘˜Agent]
    D --> G[ç ”ç©¶ç»“æœ]
    E --> H[ä»£ç å®ç°]
    F --> I[å®¡æŸ¥æŠ¥å‘Š]
    G --> B
    H --> B
    I --> B
    B --> J[æ•´åˆç»“æœ]
```

**ç‰¹ç‚¹**ï¼š
- ä¸­å¤®åè°ƒå™¨ç»Ÿä¸€ç®¡ç†
- æ¸…æ™°çš„ä»»åŠ¡åˆ†é…æœºåˆ¶
- ä¸¥æ ¼çš„å·¥ä½œæµæ§åˆ¶
- ä¾¿äºç›‘æ§å’Œè°ƒè¯•

### 2. ç¾¤ä½“æ™ºèƒ½æ¨¡å¼ (Swarm Pattern)

```mermaid
graph TD
    A[ä»»åŠ¡å‘å¸ƒ] --> B[ä»»åŠ¡æ± ]
    B --> C[ç ”ç©¶å‘˜Agent]
    B --> D[ç¼–ç¨‹Agent]
    B --> E[å®¡æŸ¥å‘˜Agent]
    C <--> D
    D <--> E
    C <--> E
    C --> F[å…±äº«çŸ¥è¯†åº“]
    D --> F
    E --> F
    F --> G[åä½œç»“æœ]
```

**ç‰¹ç‚¹**ï¼š
- å»ä¸­å¿ƒåŒ–çš„åä½œæ¨¡å¼
- Agenté—´è‡ªä¸»é€šä¿¡
- åŠ¨æ€ä»»åŠ¡è®¤é¢†æœºåˆ¶
- æ›´å¼ºçš„å®¹é”™èƒ½åŠ›

## ğŸ¤– Agentä»‹ç»

### 1. ç ”ç©¶å‘˜Agent (Researcher)

**èŒè´£**ï¼š
- ä¿¡æ¯æ”¶é›†å’Œåˆ†æ
- æŠ€æœ¯è°ƒç ”å’Œæ–¹æ¡ˆè®¾è®¡
- å¸‚åœºç ”ç©¶å’Œç«å“åˆ†æ

**æŠ€èƒ½**ï¼š
- ç½‘ç»œæœç´¢
- æ–‡æ¡£åˆ†æ
- æ•°æ®æ•´ç†
- æŠ¥å‘Šç”Ÿæˆ

### 2. ç¼–ç¨‹åŠ©æ‰‹Agent (Coder)

**èŒè´£**ï¼š
- ä»£ç è®¾è®¡å’Œå®ç°
- æŠ€æœ¯é€‰å‹å’Œæ¶æ„è®¾è®¡
- ä»£ç ä¼˜åŒ–å’Œé‡æ„

**æŠ€èƒ½**ï¼š
- å¤šè¯­è¨€ç¼–ç¨‹
- æ¡†æ¶ä½¿ç”¨
- ç®—æ³•å®ç°
- æµ‹è¯•ç¼–å†™

### 3. ä»£ç å®¡æŸ¥å‘˜Agent (Reviewer)

**èŒè´£**ï¼š
- ä»£ç è´¨é‡å®¡æŸ¥
- å®‰å…¨æ€§æ£€æŸ¥
- æ€§èƒ½ä¼˜åŒ–å»ºè®®
- æœ€ä½³å®è·µæŒ‡å¯¼

**æŠ€èƒ½**ï¼š
- é™æ€ä»£ç åˆ†æ
- å®‰å…¨æ¼æ´æ£€æµ‹
- æ€§èƒ½ç“¶é¢ˆè¯†åˆ«
- ä»£ç è§„èŒƒæ£€æŸ¥

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç›‘ç£è€…æ¨¡å¼ç¤ºä¾‹

```python
from supervisor import SupervisorSystem

# åˆ›å»ºç›‘ç£è€…ç³»ç»Ÿ
system = SupervisorSystem()

# æ‰§è¡Œå¤æ‚ä»»åŠ¡
task = {
    "type": "product_development",
    "description": "è®¾è®¡å¹¶å®ç°ä¸€ä¸ªå¾…åŠäº‹é¡¹ç®¡ç†åº”ç”¨",
    "requirements": [
        "ç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½",
        "ä»»åŠ¡å¢åˆ æ”¹æŸ¥",
        "ä»»åŠ¡åˆ†ç±»å’Œæ ‡ç­¾",
        "æé†’é€šçŸ¥åŠŸèƒ½"
    ]
}

result = await system.execute_task(task)
print(f"ä»»åŠ¡å®Œæˆï¼š{result}")
```

### ç¾¤ä½“æ™ºèƒ½æ¨¡å¼ç¤ºä¾‹

```python
from swarm import SwarmSystem

# åˆ›å»ºç¾¤ä½“æ™ºèƒ½ç³»ç»Ÿ
swarm = SwarmSystem()

# å‘å¸ƒä»»åŠ¡åˆ°ä»»åŠ¡æ± 
tasks = [
    {"type": "research", "topic": "React Native vs Flutter"},
    {"type": "coding", "feature": "ç”¨æˆ·è®¤è¯æ¨¡å—"},
    {"type": "review", "code_path": "./src/auth.py"}
]

# Agentè‡ªä¸»è®¤é¢†å’Œæ‰§è¡Œä»»åŠ¡
results = await swarm.process_tasks(tasks)
```

## ğŸ”„ å·¥ä½œæµç¨‹

### äº§å“å¼€å‘æµç¨‹

1. **éœ€æ±‚åˆ†æé˜¶æ®µ**
   - ç ”ç©¶å‘˜Agentæ”¶é›†ç”¨æˆ·éœ€æ±‚
   - åˆ†æç«å“å’ŒæŠ€æœ¯æ–¹æ¡ˆ
   - ç”Ÿæˆéœ€æ±‚æ–‡æ¡£

2. **è®¾è®¡å¼€å‘é˜¶æ®µ**
   - ç¼–ç¨‹Agentè®¾è®¡ç³»ç»Ÿæ¶æ„
   - å®ç°æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
   - ç¼–å†™å•å…ƒæµ‹è¯•

3. **è´¨é‡ä¿è¯é˜¶æ®µ**
   - å®¡æŸ¥å‘˜Agentæ£€æŸ¥ä»£ç è´¨é‡
   - è¿›è¡Œå®‰å…¨æ€§å’Œæ€§èƒ½å®¡æŸ¥
   - æä¾›ä¼˜åŒ–å»ºè®®

4. **æ•´åˆäº¤ä»˜é˜¶æ®µ**
   - ç›‘ç£è€…Agentæ•´åˆæ‰€æœ‰æˆæœ
   - ç”Ÿæˆæœ€ç»ˆäº¤ä»˜ç‰©
   - è¯„ä¼°é¡¹ç›®å®Œæˆåº¦

## ğŸ›¡ï¸ é€šä¿¡åè®®

### æ¶ˆæ¯ç±»å‹

```python
class MessageType(Enum):
    TASK_ASSIGNMENT = "task_assignment"
    PROGRESS_UPDATE = "progress_update"
    RESULT_SUBMISSION = "result_submission"
    COLLABORATION_REQUEST = "collaboration_request"
    ERROR_REPORT = "error_report"
    RESOURCE_SHARING = "resource_sharing"
```

### æ¶ˆæ¯æ ¼å¼

```python
@dataclass
class AgentMessage:
    sender: str
    receiver: str
    message_type: MessageType
    content: Dict[str, Any]
    timestamp: datetime
    priority: int = 1
    correlation_id: Optional[str] = None
```

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

### å…³é”®æŒ‡æ ‡

- **ä»»åŠ¡å®Œæˆç‡**ï¼šæˆåŠŸå®Œæˆçš„ä»»åŠ¡æ¯”ä¾‹
- **å¹³å‡å“åº”æ—¶é—´**ï¼šAgentå“åº”ä»»åŠ¡çš„å¹³å‡æ—¶é—´
- **åä½œæ•ˆç‡**ï¼šAgenté—´åä½œçš„æ•ˆç‡æŒ‡æ ‡
- **èµ„æºåˆ©ç”¨ç‡**ï¼šç³»ç»Ÿèµ„æºçš„ä½¿ç”¨æƒ…å†µ
- **é”™è¯¯ç‡**ï¼šä»»åŠ¡æ‰§è¡Œå¤±è´¥çš„æ¯”ä¾‹

### ç›‘æ§é¢æ¿

```python
# å®æ—¶æ€§èƒ½æŒ‡æ ‡
metrics = system.get_metrics()
print(f"æ´»è·ƒAgentæ•°é‡: {metrics.active_agents}")
print(f"å¾…å¤„ç†ä»»åŠ¡: {metrics.pending_tasks}")
print(f"å¹³å‡å¤„ç†æ—¶é—´: {metrics.avg_processing_time}ç§’")
print(f"æˆåŠŸç‡: {metrics.success_rate}%")
```

## ğŸ”§ é…ç½®é€‰é¡¹

### Agenté…ç½®

```python
agent_config = {
    "researcher": {
        "max_concurrent_tasks": 3,
        "search_timeout": 30,
        "cache_results": True
    },
    "coder": {
        "supported_languages": ["python", "javascript", "java"],
        "code_style": "pep8",
        "test_coverage_threshold": 80
    },
    "reviewer": {
        "severity_levels": ["low", "medium", "high", "critical"],
        "auto_fix_enabled": True,
        "performance_checks": True
    }
}
```

### ç³»ç»Ÿé…ç½®

```python
system_config = {
    "max_agents": 10,
    "task_timeout": 300,
    "retry_attempts": 3,
    "enable_logging": True,
    "log_level": "INFO"
}
```

## ğŸš§ å¸¸è§é—®é¢˜

### Q: Agentä¹‹é—´å¦‚ä½•é¿å…é‡å¤å·¥ä½œï¼Ÿ

A: é€šè¿‡ä»»åŠ¡åˆ†é…ç®—æ³•å’ŒçŠ¶æ€åŒæ­¥æœºåˆ¶ï¼Œç¡®ä¿æ¯ä¸ªä»»åŠ¡åªåˆ†é…ç»™ä¸€ä¸ªAgentã€‚

### Q: å¦‚ä½•å¤„ç†Agentå¤±æ•ˆçš„æƒ…å†µï¼Ÿ

A: å®ç°å¥åº·æ£€æŸ¥æœºåˆ¶ï¼Œå¤±æ•ˆçš„Agentä¼šè¢«ç§»é™¤ï¼Œå…¶ä»»åŠ¡ä¼šé‡æ–°åˆ†é…ç»™å…¶ä»–Agentã€‚

### Q: å¦‚ä½•ä¼˜åŒ–å¤šAgentç³»ç»Ÿçš„æ€§èƒ½ï¼Ÿ

A: é€šè¿‡è´Ÿè½½å‡è¡¡ã€ä»»åŠ¡ä¼˜å…ˆçº§æ’åºã€ç¼“å­˜æœºåˆ¶ç­‰æ–¹å¼ä¼˜åŒ–æ€§èƒ½ã€‚

## ğŸ¯ ç»ƒä¹ å»ºè®®

### åˆçº§ç»ƒä¹ 

1. **æ‰©å±•Agentç±»å‹**ï¼šæ·»åŠ ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆAgent
2. **è‡ªå®šä¹‰æ¶ˆæ¯ç±»å‹**ï¼šæ·»åŠ æ–°çš„é€šä¿¡æ¶ˆæ¯ç±»å‹
3. **ç®€å•ä»»åŠ¡æµç¨‹**ï¼šå®ç°ä¸€ä¸ªç®€å•çš„ä»»åŠ¡æ‰§è¡Œæµç¨‹

### ä¸­çº§ç»ƒä¹ 

1. **åŠ¨æ€Agentç®¡ç†**ï¼šå®ç°Agentçš„åŠ¨æ€æ·»åŠ å’Œç§»é™¤
2. **ä»»åŠ¡ä¼˜å…ˆçº§**ï¼šæ·»åŠ ä»»åŠ¡ä¼˜å…ˆçº§å’Œè°ƒåº¦ç®—æ³•
3. **ç»“æœç¼“å­˜**ï¼šå®ç°æ™ºèƒ½ç¼“å­˜æœºåˆ¶é¿å…é‡å¤å·¥ä½œ

### é«˜çº§ç»ƒä¹ 

1. **å®¹é”™æœºåˆ¶**ï¼šå®ç°å®Œæ•´çš„å®¹é”™å’Œæ¢å¤æœºåˆ¶
2. **è´Ÿè½½å‡è¡¡**ï¼šåŠ¨æ€è°ƒæ•´Agentçš„å·¥ä½œè´Ÿè½½
3. **åˆ†å¸ƒå¼éƒ¨ç½²**ï¼šæ”¯æŒAgentåœ¨ä¸åŒæœºå™¨ä¸Šè¿è¡Œ

## ğŸ‰ å®Œæˆæ ‡å¿—

å½“ä½ èƒ½å¤Ÿï¼š

- âœ… ç†è§£å¤šAgentç³»ç»Ÿçš„æ¶æ„æ¨¡å¼
- âœ… å®ç°Agenté—´çš„æœ‰æ•ˆé€šä¿¡
- âœ… è®¾è®¡å¤æ‚çš„åä½œå·¥ä½œæµ
- âœ… å¤„ç†å¹¶å‘å’Œé”™è¯¯æƒ…å†µ
- âœ… ç›‘æ§å’Œä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½

æ­å–œï¼ä½ å·²ç»æŒæ¡äº†æ„å»ºå¤æ‚å¤šAgentç³»ç»Ÿçš„èƒ½åŠ›ï¼

## ğŸš€ ä¸‹ä¸€æ­¥

å®Œæˆå¤šAgentç³»ç»Ÿåï¼Œå¯ä»¥ç»§ç»­å­¦ä¹ ï¼š
- `04-RAGåº”ç”¨/` - çŸ¥è¯†å¢å¼ºæ£€ç´¢ç³»ç»Ÿ
- æˆ–è€…å°è¯•å°†å¤šAgentç³»ç»Ÿéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

---

*é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œä½ å°†å­¦ä¼šå¦‚ä½•æ„å»ºçœŸæ­£æ™ºèƒ½çš„åä½œç³»ç»Ÿï¼* ğŸš€